#!/bin/bash
make clean; make;
for f in ./Tests/*.input; 
do 
  echo "Testing ${f%??????}";
  # ./qwirkle < $f;
  ./qwirkle < $f > ${f%??????}.gameout
  # ./qwirkle < $f > ${f%??????}.output
  diff --brief --report-identical-files -w ${f%??????}.output ${f%??????}.gameout
  if [[ -f ${f%??????}.expsave ]]; then
    diff --brief --report-identical-files -w -y ${f%??????}.expsave ${f%??????}.save
  fi
  echo -e "\n";
done